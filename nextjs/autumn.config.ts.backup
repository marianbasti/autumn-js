import {
	feature,
	featureItem,
	pricedFeatureItem,
	priceItem,
	product,
} from "atmn";

// Features
export const seats = feature({
	id: "seats",
	name: "Seats",
	type: "continuous_use",
});

export const messages = feature({
	id: "messages",
	name: "Messages",
	type: "single_use",
});

// Products
export const entities = product({
	id: "entities",
	name: "Entities",
	items: [
		featureItem({
			feature_id: messages.id,
			included_usage: 100,
			interval: "month",
			entity_feature_id: seats.id,
		}),

		featureItem({
			feature_id: seats.id,
			included_usage: 10,
		}),
	],
});

export const free = product({
	id: "free",
	name: "Free",
	items: [
		featureItem({
			feature_id: messages.id,
			included_usage: 10,
			interval: "month",
		}),

		featureItem({
			feature_id: seats.id,
			included_usage: 10,
		}),
	],
});

export const oneOff = product({
	id: "one_off",
	name: "One off",
	items: [
		priceItem({
			price: 10,
		}),
	],
});

export const pro = product({
	id: "pro",
	name: "Pro",
	items: [
		priceItem({
			price: 10,
			interval: "month",
		}),

		featureItem({
			feature_id: messages.id,
			included_usage: 1000,
			interval: "month",
		}),

		featureItem({
			feature_id: seats.id,
			included_usage: 100,
		}),
	],
});

export const prepaid = product({
	id: "prepaid",
	name: "Prepaid",
	items: [
		priceItem({
			price: 10,
			interval: "month",
		}),

		pricedFeatureItem({
			feature_id: messages.id,
			price: 10,
			interval: "month",
			included_usage: 0,
			billing_units: 1,
			usage_model: "prepaid",
		}),
	],
});
